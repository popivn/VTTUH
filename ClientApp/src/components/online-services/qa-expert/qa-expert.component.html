<!-- Hero Section -->
<section class="py-5" style="background: linear-gradient(135deg, #4A90E2 0%, #357ABD 100%);">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-8 mx-auto text-center text-white">
        <div class="mb-3">
          <span class="badge bg-white text-primary px-4 py-2 rounded-pill">
            <i class="bi bi-chat-heart-fill me-2"></i>Tư vấn miễn phí
          </span>
        </div>
        <h1 class="display-5 fw-bold mb-3">
          <i class="bi bi-chat-heart me-3"></i>Hỏi đáp cùng chuyên gia
        </h1>
        <p class="lead mb-0 opacity-90">
          Đội ngũ bác sĩ chuyên môn cao sẵn sàng giải đáp mọi thắc mắc về sức khỏe của bạn
        </p>
      </div>
    </div>
  </div>
</section>

<div class="container py-5">
  <div class="row g-4">
    <!-- Main Content - Question Form -->
    <div class="col-lg-8">
      <!-- Question Form Card -->
      <div class="card border-0 shadow-lg rounded-4 overflow-hidden mb-4">
        <div class="card-header vtth-bg-secondary text-white border-0 p-4">
          <h4 class="m-0 fw-bold">
            <i class="bi bi-pencil-square me-2"></i>Gửi câu hỏi của bạn
          </h4>
        </div>
        <div class="card-body p-4">
          <form (ngSubmit)="submitQuestion()">
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label fw-semibold">Họ và tên <span class="text-danger">*</span></label>
                <input type="text" class="form-control form-control-lg rounded-3" 
                       [(ngModel)]="questionForm.name" name="name"
                       placeholder="Nhập họ tên của bạn" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Email <span class="text-danger">*</span></label>
                <input type="email" class="form-control form-control-lg rounded-3" 
                       [(ngModel)]="questionForm.email" name="email"
                       placeholder="email@example.com" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Số điện thoại</label>
                <input type="tel" class="form-control form-control-lg rounded-3" 
                       [(ngModel)]="questionForm.phone" name="phone"
                       placeholder="0912 345 678">
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Chuyên khoa <span class="text-danger">*</span></label>
                <select class="form-select form-select-lg rounded-3" 
                        [(ngModel)]="questionForm.category" name="category" required>
                  <option value="">-- Chọn chuyên khoa --</option>
                  <option *ngFor="let cat of categories" [value]="cat.value">{{ cat.label }}</option>
                </select>
              </div>
              <div class="col-12">
                <label class="form-label fw-semibold">Câu hỏi của bạn <span class="text-danger">*</span></label>
                <textarea class="form-control rounded-3" rows="5" 
                          [(ngModel)]="questionForm.question" name="question"
                          placeholder="Mô tả chi tiết triệu chứng, thắc mắc của bạn..." required></textarea>
                <div class="form-text">
                  <i class="bi bi-info-circle me-1"></i>
                  Vui lòng mô tả chi tiết để bác sĩ có thể tư vấn chính xác hơn
                </div>
              </div>
              <div class="col-12">
                <div class="alert alert-info border-0 rounded-3 d-flex align-items-start gap-3">
                  <i class="bi bi-shield-check fs-4 vtth-text-info"></i>
                  <div>
                    <strong>Cam kết bảo mật:</strong> Thông tin cá nhân và câu hỏi của bạn được bảo mật tuyệt đối theo quy định bảo vệ dữ liệu y tế.
                  </div>
                </div>
              </div>
              <div class="col-12">
                <button type="submit" class="btn vtth-btn-secondary btn-lg w-100 rounded-pill py-3">
                  <i class="bi bi-send me-2"></i>Gửi câu hỏi
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
      
      <!-- FAQ Section -->
      <div class="card border-0 shadow-sm rounded-4">
        <div class="card-header bg-white border-0 p-4">
          <h4 class="m-0 fw-bold vtth-text-primary">
            <i class="bi bi-question-circle me-2"></i>Câu hỏi thường gặp
          </h4>
        </div>
        <div class="card-body p-4 pt-0">
          <div class="accordion accordion-flush" id="faqAccordion">
            <div *ngFor="let faq of faqs; let i = index" class="accordion-item border-0 mb-3">
              <div class="border rounded-3 overflow-hidden" 
                   [class.border-primary]="isAccordionOpen(faq.id)"
                   [class.shadow-sm]="isAccordionOpen(faq.id)">
                <h2 class="accordion-header">
                  <button class="accordion-button rounded-3 fw-semibold" 
                          [class.collapsed]="!isAccordionOpen(faq.id)"
                          [class.vtth-bg-primary]="isAccordionOpen(faq.id)"
                          [class.text-white]="isAccordionOpen(faq.id)"
                          type="button"
                          (click)="toggleAccordion(faq.id)">
                    <span class="me-3 rounded-circle d-inline-flex align-items-center justify-content-center"
                          [class.bg-white]="isAccordionOpen(faq.id)"
                          [class.vtth-text-primary]="isAccordionOpen(faq.id)"
                          [class.vtth-bg-primary]="!isAccordionOpen(faq.id)"
                          [class.bg-opacity-10]="!isAccordionOpen(faq.id)"
                          style="width: 30px; height: 30px; font-size: 0.85rem;">
                      {{ i + 1 }}
                    </span>
                    {{ faq.question }}
                  </button>
                </h2>
                <div class="accordion-collapse" [class.collapse]="!isAccordionOpen(faq.id)" [class.show]="isAccordionOpen(faq.id)">
                  <div class="accordion-body bg-light">
                    <p class="mb-0 text-muted">{{ faq.answer }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Sidebar -->
    <div class="col-lg-4">
      <!-- Expert Team Card -->
      <div class="card border-0 shadow-sm rounded-4 mb-4">
        <div class="card-header vtth-bg-primary text-white border-0 p-4">
          <h5 class="m-0 fw-bold">
            <i class="bi bi-people me-2"></i>Đội ngũ chuyên gia
          </h5>
        </div>
        <div class="card-body p-0">
          <div *ngFor="let expert of experts; let last = last" 
               class="p-3 d-flex align-items-center gap-3"
               [class.border-bottom]="!last">
            <div class="rounded-circle vtth-bg-primary bg-opacity-10 d-flex align-items-center justify-content-center flex-shrink-0" 
                 style="width: 55px; height: 55px;">
              <i [class]="expert.avatar + ' vtth-text-primary'" style="font-size: 1.8rem;"></i>
            </div>
            <div class="flex-grow-1">
              <h6 class="fw-bold mb-1">{{ expert.name }}</h6>
              <p class="text-muted small mb-1">{{ expert.title }}</p>
              <span class="badge vtth-bg-success bg-opacity-10 vtth-text-success small">
                <i class="bi bi-clock me-1"></i>{{ expert.responseTime }}
              </span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Contact Card -->
      <div class="card border-0 shadow-sm rounded-4 mb-4" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
        <div class="card-body p-4">
          <h5 class="fw-bold vtth-text-primary mb-3">
            <i class="bi bi-headset me-2"></i>Cần hỗ trợ gấp?
          </h5>
          <p class="text-muted small mb-3">
            Liên hệ hotline để được tư vấn trực tiếp với bác sĩ
          </p>
          <a href="tel:1900xxxx" class="btn vtth-btn-danger w-100 rounded-pill py-2">
            <i class="bi bi-telephone-fill me-2"></i>
            <span class="fw-bold">1900 xxxx</span>
          </a>
        </div>
      </div>
      
      <!-- Quick Links Card -->
      <div class="card border-0 shadow-sm rounded-4">
        <div class="card-body p-4">
          <h5 class="fw-bold vtth-text-primary mb-3">
            <i class="bi bi-link-45deg me-2"></i>Liên kết nhanh
          </h5>
          <div class="d-grid gap-2">
            <a routerLink="/dat-lich-kham" class="btn btn-outline-primary rounded-pill text-start">
              <i class="bi bi-calendar-check me-2"></i>Đặt lịch khám
            </a>
            <a routerLink="/patient/tien-ich/tra-cuu-ket-qua" class="btn btn-outline-success rounded-pill text-start">
              <i class="bi bi-file-medical me-2"></i>Tra cứu xét nghiệm
            </a>
            <a routerLink="/experts" class="btn btn-outline-info rounded-pill text-start">
              <i class="bi bi-people me-2"></i>Đội ngũ bác sĩ
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

